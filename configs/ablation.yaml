# Ablation study configuration - baseline without adaptive boundary refinement

# Data configuration
data:
  dataset_name: "ami"
  sample_rate: 16000
  segment_duration: 3.0
  hop_duration: 0.5
  batch_size: 16
  num_workers: 4
  train_split: 0.7
  val_split: 0.15
  test_split: 0.15
  synthetic_data_size: 1000
  n_fft: 512
  hop_length: 160
  n_mels: 80

# Model configuration - ABLATION: Disable adaptive refinement
model:
  embedding_dim: 512
  num_speakers: 4
  dropout: 0.3
  use_adaptive_refinement: false  # DISABLED for ablation
  refinement_window_size: 0.3
  refinement_iterations: 0  # No refinement iterations
  spectral_similarity_threshold: 0.7

# Boundary refinement configuration - ABLATION: Disabled
boundary_refinement:
  enabled: false  # DISABLED for ablation
  window_overlap: 0.5
  gradient_threshold: 0.15
  min_segment_duration: 0.2
  max_iterations: 0

# Training configuration
training:
  num_epochs: 50
  learning_rate: 0.001
  weight_decay: 0.0001
  gradient_clip_norm: 1.0
  early_stopping_patience: 10
  checkpoint_dir: "checkpoints"
  best_model_path: "models/baseline_model.pt"
  resume_from_checkpoint: null
  mixed_precision: true

# Learning rate scheduler
scheduler:
  type: "cosine"
  warmup_epochs: 5
  min_lr: 0.000001
  step_size: 10
  gamma: 0.1
  patience: 5
  factor: 0.5

# Loss configuration - ABLATION: No boundary/temporal consistency
loss:
  diarization_weight: 1.0
  boundary_consistency_weight: 0.0  # DISABLED for ablation
  temporal_consistency_weight: 0.0  # DISABLED for ablation
  speaker_confusion_penalty: 0.2

# Evaluation configuration
evaluation:
  collar: 0.25
  metrics:
    - diarization_error_rate
    - jaccard_error_rate
    - boundary_f1_score
    - speaker_confusion
  save_predictions: true
  results_dir: "results"

# MLflow configuration
mlflow:
  enabled: true
  experiment_name: "multi-speaker-diarization-ablation"
  tracking_uri: "mlruns"
  log_artifacts: true

# Reproducibility
random_seed: 42
